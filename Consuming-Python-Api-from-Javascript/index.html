<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Fruits API</title>
</head>

<body>
    <h1>Consuming the GET and POST API from Javascript & HTML</h1>
    <label>Fruits</label>
    <select id='lstFruit'></select>
    <label>Add new fruit</label><input type='text' id='txtFruit'><button id='btnAdd'>Add Fruit</button>
    <script>

        const lstFruit = document.getElementById("lstFruit")
        const addFruit = document.getElementById("btnAdd")
        const txtFruit = document.getElementById("txtFruit")

        fetch("http://localhost:8882/list")
            .then(response => response.json())
            .then(jsonResponse => jsonResponse.forEach(fruit => {

                let o = document.createElement("option")
                o.textContent = fruit
                lstFruit.appendChild(o)

            }))


        addFruit.addEventListener("click", e => {
            let fruit = txtFruit.value;
            fetch(`http://localhost:8882/list?fruit=${fruit}`, { "method": "POST" })
                .then(response => response.json())
                .then(jsonResponse => alert(jsonResponse.message))

        })
    </script>

    <!-- line -->
    <hr>
    <br>
    <hr>

    <h1>Building an Image Upload Service with python</h1>
    <form method="post" action="/upload" enctype="multipart/form-data" accept-charset="">
        <input type='file' name='fileImage'>
        <button>Upload</button>

    </form>
</body>

</html>